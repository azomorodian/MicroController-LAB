var ch_client,ch_sid,ch_non_contextual,ch_includeClasses,ch_excludeClasses,ch_linkStyle,ch_linkColor,ch_font,ch_borderColor,ch_adCustomStyle,ch_linkCustomStyle,ch_maxLinx,ch_hideTime,ch_keywords,ch_default_category,ch_filter_category,ch_target,ch_width,ch_height,ch_purl,chl_non_contextual,chl_linkStyle,chl_linkColor,chl_maxLinx,chl_includeClasses,chl_excludeClasses,chl_override_country,chl_override_rate;window.$linx={noctxt:0,cur_id:0,num_linx:0,chl_path:false,cur_parent:false,body_loaded:false,chl_linx:"http://linx.chitika.net/linx?type=linx",browser:navigator.userAgent.toLowerCase(),KEY_NODES:new Array(),alphaset:"abcdefghijklmnopqrstuvwxyzABCEFGHIJKLMNOPQRSTUVWXYZ0123456789",K_FOUND:0,M_LINX:1,K_N_FOUND:2,IE:0,IE6:0,lTIE6:0,SAFARI:0,FF:0,OPERA:0,win98:0,bad_tags:{},settings:{},found_keywords:{},timeout_id:"",timeout_load_id:"",highlighted:false,post_highlight:function(){},_:function(B,A){return(typeof (window[B])=="undefined")?A:window[B]},__:function(A){return(typeof (window[A])=="undefined")?"":window[A]},append_func:function(B,A){return function(C){if(typeof (B)=="function"){B(C)}A(C)}},attach_css:function(){var A=document.getElementsByTagName("head")[0];var D=document.createElement("link");D.media="all";D.type="text/css";D.rel="stylesheet";D.href=this.get_path()+"linx.v3.css";A.appendChild(D);if(typeof (ch_alternateCss)!="undefined"&&ch_alternateCss){var C=document.createElement("link");C.media="all";C.type="text/css";C.rel="stylesheet";C.href=ch_alternateCss;A.appendChild(C)}if(this.lTIE6||this.win98){var B=document.createElement("link");B.media="all";B.type="text/css";B.rel="stylesheet";B.href=this.get_path()+"linx.v3.lessThanIE6.css";A.appendChild(B)}if(this.IE6&&!this.win98){var B=document.createElement("link");B.media="all";B.type="text/css";B.rel="stylesheet";B.href=this.get_path()+"linx.v3.IE6.css";A.appendChild(B)}},attach_events:function(){var A,B;A=window;B=this;A.onload=B.append_func(A.onload,B.win_sizes);A.onresize=B.append_func(A.onresize,B.win_sizes);A.onscroll=B.append_func(A.onscroll,B.win_sizes)},build_bad_tags:function(){var A=new Array("script","img","input","hr","br","head","link","param","applet","a","object","textarea","h1","select","label");this.bad_tags=new Object();for(var B=0;B<A.length;B++){this.bad_tags[A[B]]=true}},build_linx_url:function(){var D,A,B;A=window;B=this;var D=B.__("ch_purl");if(D==""&&typeof (top.location.href)=="string"){D=top.location.href}if(D==""&&typeof (location.href)=="string"){D=location.href}A.ch_purl=D;A.ch_ref=document.referrer;A.ch_ikeywords=B.__("ch_keywords");if(typeof (A.ch_ikeywords)=="object"&&ch_ikeywords.join){A.ch_ikeywords=ch_ikeywords.join(",")}B.to_q("client","ch_client",0);B.to_q("sid","ch_sid",0);B.to_q("noctxt","chl_non_contextual","0");B.to_q("include_classes","ch_includeClasses",0);B.to_q("exclude_classes","ch_excludeClasses",0);B.to_q("include_classes","chl_includeClasses",0);B.to_q("exclude_classes","chl_excludeClasses",0);B.to_q("include_keywords","ch_ikeywords",0);B.to_q("exclude_keywords","ch_excludeKeywords",0);B.to_q("filtercat","ch_filter_category",0);B.to_q("defaultcat","ch_default_category",0);B.to_q("tptracker","ch_third_party_tracker",0);B.to_q("stealth_mode","ch_stealth",0);B.to_q("override_country","chl_override_country",0);B.to_q("override_rate","chl_override_rate",0);B.to_q("url","ch_purl",0);B.to_q("ref","ch_ref",0);B.to_q("max_num_links","ch_maxLinx",0);var C=Math.round(Math.random()*1000);B.to_q("cb","ch_nothing",C)},close_ad:function(){var A=document.getElementById("chitika-linx-unit");if(A){A.parentNode.removeChild(A)}this.close_tab();this.cur_id=""},close_tab:function(){var A=document.getElementById("chitika-linx-link");if(A){A.parentNode.removeChild(A)}},compile_ads:function(){var A=window.$linx;if(A.highlighted){A.compile_ads_hl()}else{A.post_highlight=A.compile_ads_hl}},compile_ads_hl:function(){var E,D,F,A,C;for(var B=0;B<this.KEY_NODES.length;B++){E=this.KEY_NODES[B];if(!E){continue}D=E.innerHTML;C=E.parentNode;if(!window.keyword_rpu[D.toLowerCase()]){F=document.createTextNode(D);if(C.parentNode){C.parentNode.replaceChild(F,C)}}else{A=window.keyword_rpu[D.toLowerCase()][0]["url"];if(typeof (A)=="string"&&A!=""){E.href=A;E.onclick=function(){return true}}}}return },create_ad_html:function(A,D){if(!this._("keyword_rpu",false)){return false}var L=keyword_rpu[D.toLowerCase()];if(typeof (L)!="object"){return false}if(typeof (L[0])!="object"){return false}L=L[0];var K,I,H,N,G,C,M,F,O,E,B,J;K=document.createElement("div");K.className="ch-linx-ad";K.id="chitika-linx-unit";if(this.settings.font){K.style.fontFamily=this.settings.font}I=L.description;C=L.image;B=L.vendor_title;H=L.product_title;N=L.url;if(C=="http://scripts.chitika.net/eminimalls/images/1x1.gif"){C=false}G="See More at "+B;J=this.settings.height;if(!I){if(C){J=140}else{J=110}}if(!I&&C){M="70px";F="20px"}else{F="0";M="auto"}O=C?"ch-info":"ch-info-nopadding";E="";E+='<div class="ch-t">';E+='<a href="#" onclick="$linx.close_ad(); return false;" title="Close" class="ch-close">[X]</a>';E+='<a href="http://chitika.com/linx_overview.php?refid='+escape(ch_client)+'" title="Linx Overview" target="_blank" class="ch-quest">[?]</a>';E+='<span class="ch-brand">[Chitika Linx]</span>';E+="<div>Related Product</div>";E+="</div>";E+='<div class="ch-cnt">';E+='<div class="ch-c" id="ch-content" style="height:'+M+'">';if(C){E+='<div class="ch-img"><img src="'+C+'" width="80" /></div>'}E+='<div class="'+O+'">';E+='<div class="ch-h2">'+H+"</div>";if(I){E+='<div class="ch-p">'+I+"</div>"}E+='<div class="ch-g">'+B+"</div>";E+="</div>";E+="</div>";E+='</div><div class="ch-b">&nbsp;</div><a href="'+N+'" class="ch-sneeze" target="'+this.settings.target+'">&nbsp;</a>';K.innerHTML=E;return K},create_elem:function(B,C){var A=document.createElement(B);A.className=C;A.innerHTML="&nbsp;";return A},create_link_html:function(C,B){var D,A,G,I,H,F,E,J;J=this.settings;D=document.createElement("img");cur_hover_url=this.hover_url+"&keyword="+escape(C);D.src=cur_hover_url;D.style.display="none";G=document.createElement("span");I=this.create_elem("b","lx-sp1");H=this.create_elem("b","lx-sp2");F=this.create_elem("b","lx-sp3");E=document.createElement("strong");E.innerHTML=C;if(J.adCustomStyle){I.style.background=J.borderColor;H.style.cssText=F.style.cssText=E.style.cssText=J.adCustomStyle}if(J.lxTextColor){G.style.color=E.style.color=J.lxTextColor}if(J.font){G.style.fontFamily=J.font}if(B){G.appendChild(E);G.appendChild(F);G.appendChild(H);G.appendChild(I)}else{G.appendChild(I);G.appendChild(H);G.appendChild(F);G.appendChild(E)}return G},find_keyword:function(M,P){var A,N,Q,L,H,J,I,G=M.parentNode;var R,C,D,K,E,B,T,O,S,F;F=this.num_linx+1;if(M.tagName=="LABEL"){I=M.innerHTML}else{I=M.data}if(typeof (I)=="undefined"){return this.K_N_FOUND}R=String(P).toLowerCase();C=I.toLowerCase();D=C.indexOf(R,(G==this.cur_parent?20:0));if(D==-1){return this.K_N_FOUND}K=(D==0)?" ":I.substring(D-1,D);E=(I.length-D-P.length==0)?" ":I.substring(D+P.length,D+P.length+1);B=I.substring(0,D);T=I.substring(D+P.length,I.length);O=I.substring(D,P.length+D);Q=document.createTextNode(B);H=document.createTextNode(O);L=document.createTextNode(T);N=document.createElement("span");A=document.createElement("a");if(this.alphaset.indexOf(K)==-1&&this.alphaset.indexOf(E)==-1){S=P;if(E=="s"){P+="s"}J="lx"+F;A.rel=S.toLowerCase();A.href="";A.target=this.settings.target;A.id=J;A.appendChild(H);A.i=F;A.style.color=this.settings.linkColor;N.style.cssText=this.settings.linkCustomStyle;N.className="lx-link-"+this.settings.linkStyle;A.onclick=function(){if(typeof (window.keyword_rpu)=="undefined"){return false}this.href=window.keyword_rpu[this.rel][0]["url"]+"&linkid=linx_link";return true};A.onmouseover=function(){window.status="";window.$linx.show_ad(this.i,S);window.clearTimeout(window.$linx.timeout_id)};A.onmouseout=function(){window.status="";window.$linx.timeout_id=setTimeout(function(){window.$linx.close_ad()},window.$linx.settings.hideTime)};N.appendChild(A);this.KEY_NODES.push(A);G.insertBefore(Q,M);G.insertBefore(N,M);G.insertBefore(L,M);G.removeChild(M);I=T;M=L;this.cur_parent=G;this.cur_id++;this.num_linx++;if(this.settings.maxLinx>0&&this.num_linx>=this.settings.maxLinx){return this.M_LINX}else{return this.K_FOUND}}return this.K_N_FOUND},findPosX:function(A){var B=0;if(A.offsetParent){while(1){B+=A.offsetLeft;if(!A.offsetParent){break}A=A.offsetParent}}else{if(A.x){B+=A.x}}return B},findPosY:function(B){var A=0;if(B.offsetParent){while(1){A+=B.offsetTop;if(!B.offsetParent){break}B=B.offsetParent}}else{if(B.y){A+=B.y}}return A},init_settings:function(){var A=this._;var B={hideTime:A("ch_hideTime",1500),font:A("ch_font",false),borderColor:A("ch_borderColor","#000"),bgColor:A("ch_bgColor","#fff"),maxLinx:A("chl_maxLinx",A("ch_maxLinx",7)),linkColor:A("chl_linkColor",A("ch_linkColor","blue")),linkStyle:A("chl_linkStyle",A("ch_linkStyle","style3")),width:A("chl_width",374),height:A("chl_height",150),target:A("ch_target","_blank"),lxTextColor:A("chl_lxTextColor",0),client:A("ch_client","demo"),url:A("ch_purl",false),ref:A("ch_ref",false),sid:A("ch_sid",false)};B.adCustomStyle=A("ch_adCustomStyle","border-left-color: "+B.borderColor+"; border-right-color: "+B.borderColor+"; background: "+B.bgColor);B.linkCustomStyle=A("ch_linkCustomStyle","border-bottom-color: "+B.linkColor+"; color: "+B.linkColor);if(B.hideTime<=60){B.hideTime*=1000}this.hover_url="http://linx.chitika.net/linx/hover.gif?client="+escape(B.client);if(B.url){this.hover_url+="&url="+escape(B.url)}if(B.sid){this.hover_url+="&sid="+escape(B.sid)}if(B.ref){this.hover_url+="&ref="+escape(B.ref)}this.settings=B},gen_tab:function(H,C,A){if(typeof (keyword_rpu)=="undefined"){return }var E=document.getElementById("lx"+H);var F=document.createElement("a");F.href="";F.ref=C.toLowerCase();F.onclick=function(I){this.href=B.keyword_rpu[C.toLowerCase()][0]["url"];return true};var D=this.create_link_html(C,A);var B=E.offsetWidth;var G=parseInt(C.length*10);B=G>B?G:B;F.style.width=B+"px";F.className="lx-link";F.id="chitika-linx-link";F.appendChild(D);return F},get_browser_info:function(){var B,A,C;C=navigator.userAgent.toLowerCase();if(C.indexOf("msie")!=-1){this.IE=1;B=navigator.appVersion.split("MSIE");A=parseFloat(B[1]);if(A<7){if(A<6){this.lTIE6=1}else{this.IE6=1}}}else{if(C.indexOf("safari")!=-1){this.SAFARI=1}else{if(C.indexOf("opera")!=-1){this.OPERA=1}else{if(C.indexOf("firefox")!=-1){this.FF=1}}}}if(C.indexOf("win98")!=-1){this.win98=1}},get_path:function(){this.chl_path="http://scripts.chitika.net/static/linx/";if(this.chl_path){return this.chl_path}var D="chitika_linx";var B=document.getElementsByTagName("script");var A="";for(var C=0;C<B.length;C++){if(B[C].src.indexOf(D)!=-1){A=B[C].src.replace(/chitika_linx\.v3\.js(\?.*)?$/,"");break}this.chl_path=A;return A}},parse_document:function(D,J,C,F){if((D.nodeType==3)||(D.tagName=="LABEL")){var A,G,I,H=0;G=J;J=new Array();A=this.K_N_FOUND;if(typeof (G)=="string"){G=new Array(G)}for(var E=0;E<G.length;E++){J.push(G[E])}for(var E=0;E<G.length;E++){I=this.find_keyword(D,J[E]);if(I!=this.K_N_FOUND){this.found_keywords[J[E].toLowerCase()]=1;A=I;J.splice(E-H,1);H++;if(J.length==0){return I}}}}var B=D.childNodes;if(D.tagName&&(this.bad_tags[D.tagName.toLowerCase()]!=true)&&C>F){for(var E=0;E<B.length;E++){var A=this.parse_document(B[E],J,C,F+1);if(A!=this.K_N_FOUND){return A}}}return this.K_N_FOUND},post_body_load:function(B){var A=window.$linx;A.attach_css();A.win_sizes();A.attach_events();A.swf_fix();if(A.noctxt){A.parse_keys()}else{A.spider_keys()}A.highlighted=true;A.post_highlight();A.preload_images();A.compile_ads()},post_spider_init:function(){var B=document.createElement("div");B.id="ch-linx-pl";B.innerHTML="&nbsp;";B.style.cssText="font-size:0; line-height:0; height:0;";var A=document.getElementsByTagName("body")[0];A.insertBefore(B,A.firstChild);if(this.body_loaded){this.post_body_load(0)}else{window.onload=this.append_func(window.onload,this.post_body_load)}return },pre_spider_init:function(){var A=this;A.noctxt=(A.__("chl_non_contextual")>=1)?1:0;A.init_settings();A.get_browser_info();A.build_bad_tags();A.build_linx_url();document.body.onload=A.append_func(document.body.onload,function(C){window.$linx.body_loaded=true});if(A.SAFARI){document.write('<script type="text/javascript" src='+this.chl_linx+"><\/script>")}else{var B=document.createElement("script");B.type="text/javascript";B.src=this.chl_linx;document.getElementsByTagName("head")[0].appendChild(B)}},show_ad:function(A,L){if(!(this._("keyword_rpu",false)&&window.keyword_rpu[L.toLowerCase()])){this.timeout_load_id=setTimeout(function(){window.$linx.show_ad(A,L)},100);return false}var O,P,H,B,C,K,G,E,Q,N,F,J,M;if(document.getElementById("chitika-linx-unit")&&A!=this.cur_id){this.close_ad()}var D=document.getElementById("lx"+A);clearTimeout(this.timeout_load_id);O=this.create_ad_html(A,L);P=this.findPosX(D);H=this.findPosY(D);B=D.offsetWidth;C=parseInt(L.length*10);C=(C>B)?C:B;K=0;Q=10;if((H-30-this.settings.height)<this.winHeight){G=H+22+Q}else{G=H-this.settings.height+1;K=1}N=(P+C>this.winWidth-15)?P+B-C:P;F=(P>15)?15:P-1;J=(N+C<this.winWidth-15)?15:this.winWidth-N-C-1;M=(P+this.settings.width>this.winWidth)?N-this.settings.width+C+J:P-F;O.style.top=G+"px";O.style.left=(M+20)+"px";O.style.zIndex="19000";O.style.position="absolute";var I=document.getElementById("ch-linx-pl");if(!document.getElementById("chitika-linx-unit")){I.appendChild(O);O.onmouseout=function(){window.$linx.timeout_id=setTimeout(function(){window.$linx.close_ad()},window.$linx.settings.hideTime)};O.onmouseover=function(){window.clearTimeout(window.$linx.timeout_id)}}this.cur_id=A;return },spider_keys:function(){var G,D,A,B;if(typeof (window.keywords)!="object"){return }for(var C in window.keywords){B=keywords[C][0];D=keywords[C][1];if(typeof (B)=="undefined"){continue}if(typeof (D)=="object"){G=D[1]+3;D=D[0]}else{G=100}if((typeof (D)=="number")&&D==0){A=document.getElementsByTagName("body");G=10000}else{A=getElementsByClassName(D)}for(var E=0;E<A.length;E++){var F=this.parse_document(A[E],B,G,0);if(F==this.M_LINX){return this.M_LINX}if(F==this.K_FOUND){break}}}},swf_fix:function(){var C=document.getElementsByTagName("object");for(var S=0;S<C.length;S++){var M=C[S];var P=M.classid||"";if(P.toLowerCase()!="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"){continue}var J=C[S].parentNode;var H=document.createElement("span");var A='<object id="'+M.id+'"  classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="'+M.width+'" height="'+M.height+'" style="'+M.style.cssText+'" codebase="'+M.codeBase+'">';var U="</object>";var F="";var K=C[S].childNodes;var I=false;for(var R=0;R<K.length;R++){if(K[R].tagName.toLowerCase()!="param"){continue}if(K[R].name.toLowerCase()=="wmode"&&K[R].value.toLowerCase()=="transparent"){I=true;break}F+='<param name="'+K[R].name+'" value="'+K[R].value+'" />'}F+='<param name="wmode" value="transparent" />';if(!I){var B="";var T=false;if(!this.IE){var V=M.getElementsByTagName("embed")[0];B+="<embed ";for(var O=0;O<V.attributes.length;O++){var L=V.attributes[O].nodeName;var E=V.attributes[O].nodeValue;B+=L+'="'+E+'" ';if(L.toLowerCase()=="wmode"&&E.toLowerCase()=="transparent"){T=true}}if(!T){B+='wmode="transparent" '}B+=" />"}H.innerHTML=A+F+B+U;J.replaceChild(H,M)}}if(!this.IE){var Q=document.getElementsByTagName("embed");for(var S=0;S<Q.length;S++){var G=Q[S];var D=G.attributes;var W=false;var V="<embed ";for(var R=0;R<D.length;R++){var L=D[R].nodeName.toLowerCase();var E=D[R].nodeValue;if(L.toLowerCase()=="wmode"&&E.toLowerCase()=="transparent"){W=true;break}V+=L+'="'+E+'" '}if(!W){var N=document.createElement("span");V+=' wmode="transparent" />';N.innerHTML=V;var J=G.parentNode;var H=J.replaceChild(N,G)}}}},to_q:function(A,D,C){var B=this.__(D);if(!B){if(!C){return }else{B=C}}this.chl_linx+="&"+A+"="+escape(B)},win_sizes:function(D){var B,F,E,A,C;C=window.$linx;E=document;A=window;C.close_ad();B=0;var F=0;if(A.pageYOffset&&A.innerWidth){B=A.pageYOffset;F=A.innerHeight}else{if(E.documentElement&&!C.OPERA){B=E.documentElement.scrollTop;F=E.documentElement.clientHeight}else{if(E.body){B=E.body.scrollTop;F=E.body.clientHeight}}}C.winWidth=E.body.offsetWidth;C.winHeight=B+F/2},preload_images:function(){var A=["x.gif","x-h.gif","q.gif","q-h.gif","logo.gif","b.png","c.png"];var B;var D=new Array();var C;for(B=0;B<A.length;B++){C=new Image(20,20);C.src=this.get_path()+"imgs/"+A[B];D.push(C)}for(B in keyword_rpu){if(typeof (keyword_rpu[B][0])!="undefined"){C=new Image(20,20);C.src=keyword_rpu[B][0]["image"];D.push(C)}}}};window.chInit=function(){};window.chAdsCompile=function(){$linx.post_spider_init()};function getElementsByClassName(H,F,G){F=F||"*";var C=[];var E=new RegExp("\\b"+H+"\\b","i");var D=G||document;var A=D.getElementsByTagName(F);for(var B=0;B<A.length;B++){if(E.test(A[B].className)){C.push(A[B])}}return C}Array.prototype.push=function(A){this[this.length]=A};if(ch_non_contextual||chl_non_contextual){document.write('<script src="http://scripts.chitika.net/static/linx/chitika_linx.v3.1.js" type="text/javascript"><\/script>')}else{$linx.pre_spider_init()};